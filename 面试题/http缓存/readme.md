# 强缓存
- 强缓存是利用http头中的Expires或者Cache-Control两个字段来控制的，当缓存时间未过期时，浏览器直接使用缓存，不会请求服务器。
- 设置响应头：
  'Cache-Control: max-age=xxx’
- 缺点
  - 当用户第一次访问时，服务器会返回资源，并在响应头中设置缓存时间，当用户再次访问时，浏览器会根据缓存时间判断是否使用缓存，如果缓存时间未过期，则使用缓存，如果过期则重新请求资源，这样会导致用户第一次访问时，加载时间较长，用户体验不好。
  - 如果后端改了数据，但是名字没有改变，浏览器不会重新请求，导致数据不是最新的。
  - 后端资源修改了，前端无法实时获取最新资源。（通常都在文件名后面携带一串hash值，只要资源被修改，hash值就会更改，也就是文件名被修改了，因次浏览器一定会重新请求）

- 通过浏览器url地址栏发送的get请求，无法被强缓存，因为浏览器会忽略缓存，直接请求服务器，但是通过页面上的链接、表单提交、ajax请求等方式发送的get请求，可以被强缓存。


# 协商缓存
- 设置响应头：
  - Last-Modified: stats.mtimeMs 服务器响应的资源最后修改时间 //时间戳

  浏览器就会自动在请求头中携带If-Modified-Since: stats.mtimeMs，值为响应头返回的值，当后端判断前端携带的时间戳和后端文件的最后修改时间一致时，返回304，浏览器直接使用缓存，不会请求服务器，否则返回新的资源。

  'etag': 文件签名 （内容生成）
  浏览器就会自动在请求头中携带if-none-match:值为文件签名